(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0226f850"],{2953:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"control-wrapper"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"文章管理",name:"first"}},[a("el-container",[a("el-main",[a("el-table",{attrs:{data:e.articleList}},[a("el-table-column",{attrs:{prop:"blogTitle",label:"文章标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/article/detail?blogid="+t.row.blogId}},[a("span",[e._v(e._s(t.row.blogTitle))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"创作时艺名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"文章真实作者"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteArticle(t.row)}}},[e._v("移除")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"用户管理",name:"second"}},[a("el-container",[a("el-header",[e._v("已注册用户列表")]),e._v(" "),a("el-main",e._l(e.userList,(function(t){return a("div",{staticClass:"user-item"},[a("span",[e._v("用户名:")]),e._v(" "),a("span",{staticClass:"user-name"},[e._v(e._s(t.user))]),e._v(" "),a("el-button",{staticClass:"remove-user",attrs:{type:"warning"},nativeOn:{click:function(a){return a.preventDefault(),e.removeUser(t.user)}}},[e._v("移除该用户")]),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}})],1)})),0),e._v(" "),a("el-footer")],1)],1)],1)],1)},s=[],r=a("b775"),i={data:function(){return{activeName:"first",articleList:[],userList:[]}},methods:{getArticleList:function(){var e=this;r["a"].get("/blog/list").then((function(t){e.articleList=t.data.data}))},blogDelete:function(e){var t=this;r["a"].delete("/blog/delete",{params:{blogId:e}}).then((function(e){0===e.data.code?(t.getArticleList(),t.$message({type:"success",message:"该文章已删除"})):t.$message({type:"error",message:"删除失败，我慌得一批"})}))},deleteArticle:function(e){var t=this;this.$confirm("确定删除该文章？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.blogDelete(e.blogId)})).catch((function(){t.$message({message:"已取消"})}))},getUserList:function(){var e=this;r["a"].get("/user/list").then((function(t){e.userList=t.data.data}))},removeUser:function(e){var t=this;this.$confirm("确定移除该用户？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.userRemove(e)})).catch((function(){t.$message({message:"已取消"})}))},userRemove:function(e){var t=this;r["a"].delete("/user/delete",{params:{username:e}}).then((function(e){0===e.data.code?(t.getUserList(),t.$message({message:"该用户已移除"})):t.$message({message:e.data.msg,type:"error"})}))}},created:function(){this.getArticleList(),this.getUserList()}},l=i,o=(a("b40b"),a("2877")),c=Object(o["a"])(l,n,s,!1,null,"2f19b897",null);t["default"]=c.exports},b40b:function(e,t,a){"use strict";var n=a("b725"),s=a.n(n);s.a},b725:function(e,t,a){}}]);