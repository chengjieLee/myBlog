(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40853262"],{"0a49":function(t,i,s){var e=s("9b43"),a=s("626a"),l=s("4bf8"),n=s("9def"),r=s("cd1c");t.exports=function(t,i){var s=1==t,o=2==t,c=3==t,u=4==t,d=6==t,v=5==t||d,f=i||r;return function(i,r,p){for(var m,k,_=l(i),h=a(_),b=e(r,p,3),g=n(h.length),C=0,y=s?f(i,g):o?f(i,0):void 0;g>C;C++)if((v||C in h)&&(m=h[C],k=b(m,C,_),t))if(s)y[C]=k;else if(k)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:y.push(m)}else if(u)return!1;return d?-1:c||u?u:y}}},1169:function(t,i,s){var e=s("2d95");t.exports=Array.isArray||function(t){return"Array"==e(t)}},"4acb":function(t,i,s){"use strict";var e=s("7c2d"),a=s.n(e);a.a},"4c7f":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"edit-resume-wrapper"},[s("el-container",{staticClass:"resume-container"},[s("el-header",[s("h1",{staticClass:"page-title"},[t._v("个人中心")]),t._v(" "),s("el-divider")],1),t._v(" "),s("el-main",{staticClass:"edit-main"},[s("div",{staticClass:"avatar-upload-box"},[s("label",{staticClass:"avatar-title"},[t._v("头像")]),t._v(" "),s("div",{staticClass:"avatar-upload"},[s("Avatar",{staticClass:"avatar-component",attrs:{initUrl:t.initAvatar}})],1),t._v(" "),s("span",{staticClass:"avatar-tip"},[t._v("请上传大小小于5MB且为jpg格式图片")]),t._v(" "),s("span",{staticClass:"avatar-tip tip2"},[t._v("点击图片更换头像")]),t._v(" "),s("el-divider")],1),t._v(" "),s("div",{staticClass:"name-box"},[s("label",{staticClass:"name-title"},[t._v("姓名")]),t._v(" "),s("el-input",{ref:"name",staticClass:"right-input",attrs:{type:"text"},model:{value:t.form.name,callback:function(i){t.$set(t.form,"name",i)},expression:"form.name"}}),t._v(" "),s("el-button",{staticClass:"right-button",nativeOn:{click:function(i){return i.preventDefault(),t.nameFocus(i)}}},[t._v("修改")]),t._v(" "),s("el-divider")],1),t._v(" "),s("div",{staticClass:"education-box"},[s("label",{staticClass:"education-title"},[t._v("学历")]),t._v(" "),s("el-input",{ref:"education",staticClass:"right-input",attrs:{type:"text"},model:{value:t.form.education,callback:function(i){t.$set(t.form,"education",i)},expression:"form.education"}}),t._v(" "),s("el-button",{staticClass:"right-button",nativeOn:{click:function(i){return i.preventDefault(),t.educationFocus(i)}}},[t._v("修改")]),t._v(" "),s("el-divider")],1),t._v(" "),s("div",{staticClass:"profession-box"},[s("label",{staticClass:"profession-title"},[t._v("职业")]),t._v(" "),s("el-input",{ref:"profession",staticClass:"right-input",attrs:{type:"text"},model:{value:t.form.profession,callback:function(i){t.$set(t.form,"profession",i)},expression:"form.profession"}}),t._v(" "),s("el-button",{staticClass:"right-button",nativeOn:{click:function(i){return i.preventDefault(),t.professionFocus(i)}}},[t._v("修改")]),t._v(" "),s("el-divider")],1),t._v(" "),s("div",{staticClass:"skill-box"},[s("label",{staticClass:"skill-title"},[t._v("技能")]),t._v(" "),s("span",{staticStyle:{width:"300px",display:"inline-block"}}),t._v(" "),s("el-button",{staticClass:"right-button",nativeOn:{click:function(i){return i.preventDefault(),t.showAddSkillList(i)}}},[t._v("新增")]),t._v(" "),t.addSkillList?s("div",{staticClass:"skill-option"},[s("div",{staticClass:"skill-label"},[s("div",{staticClass:"skill-name"},[t._v("技能名称")]),t._v(" "),s("div",{staticClass:"skill-level"},[t._v("技能掌握程度")])]),t._v(" "),s("div",{staticClass:"skill-option-add"},[s("el-input",{staticClass:"temp-skill",model:{value:t.tempSkill,callback:function(i){t.tempSkill=i},expression:"tempSkill"}}),t._v(" "),s("el-slider",{staticClass:"temp-slider",attrs:{"format-tooltip":t.formatTooltip},model:{value:t.tempSlider,callback:function(i){t.tempSlider=i},expression:"tempSlider"}})],1),t._v(" "),s("div",{staticClass:"handle-button-box"},[s("el-button",{staticClass:"handle-skill-button",staticStyle:{color:"#888"},nativeOn:{click:function(i){return i.preventDefault(),t.cancelAddSkillList(i)}}},[t._v("取消")]),t._v(" "),s("el-button",{staticClass:"handle-skill-button",nativeOn:{click:function(i){return i.preventDefault(),t.addSkill(i)}}},[t._v("添加")])],1)]):t._e(),t._v(" "),s("div",{staticClass:"skill-list"},t._l(t.skillList,(function(i){return s("div",{key:i.skillName,staticClass:"progress-item-box"},[i.isModify?s("div",{staticClass:"skill-modify"},[s("el-input",{staticClass:"modify-skill",model:{value:i.skillName,callback:function(s){t.$set(i,"skillName",s)},expression:"skill.skillName"}}),t._v(" "),s("el-slider",{staticClass:"modify-slider",model:{value:i.skillProgress,callback:function(s){t.$set(i,"skillProgress",s)},expression:"skill.skillProgress"}}),t._v(" "),s("el-button",{staticClass:"right-button",nativeOn:{click:function(s){return s.preventDefault(),t.triggerModify(i.skillName)}}},[t._v("确定")])],1):t._e(),t._v(" "),s("div",{staticClass:"progress-item"},[s("div",{staticClass:"progress-main"},[s("span",[t._v(t._s(i.skillName))]),t._v(" "),s("el-progress",{attrs:{percentage:i.skillProgress}})],1),t._v(" "),s("div",{staticClass:"edit-progress"},[s("el-button",{staticClass:"right-button",nativeOn:{click:function(s){return s.preventDefault(),t.triggerModify(i.skillName)}}},[t._v("编辑")])],1)])])})),0),t._v(" "),s("el-divider")],1)]),t._v(" "),s("el-footer",[s("el-button",{attrs:{type:"warning"}},[s("router-link",{attrs:{to:"/profile"}},[t._v("返回个人中心")])],1),t._v(" "),s("el-button",{staticClass:"save-button",attrs:{type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),t.saveResume(i)}}},[t._v("保存")])],1)],1)],1)},a=[],l=(s("7f7f"),s("7514"),function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"upload-container"},[s("div",[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.upAction,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,data:t.uploadData}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):t.initUrl?s("img",{staticClass:"avatar",attrs:{src:t.initUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])}),n=[],r=(s("2f62"),s("5f87")),o="";o="http://47.103.116.19:7654/upload/image";var c={name:"UploadAvatar",props:{initUrl:{type:String}},data:function(){var t=Object(r["a"])();return{imageUrl:"",uploadData:{user:t,uid:""},upAction:o}},methods:{handleAvatarSuccess:function(t,i){this.imageUrl=t.data.imgUrl,this.$store.dispatch("user/getInfo"),this.$message({message:"头像更换成功",type:"success"})},fileReader:function(t){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(s){t.url=i.result}},beforeAvatarUpload:function(t){this.uploadData.uid=t.uid;var i="image/jpeg"===t.type,s=t.size/1024/1024<5;return i||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 5MB!"),this.fileReader(t),i&&s}}},u=c,d=(s("80fc"),s("2877")),v=Object(d["a"])(u,l,n,!1,null,null,null),f=v.exports,p=s("b775"),m={components:{Avatar:f},data:function(){return{tempSkill:"",tempSlider:0,addSkillList:!1,form:{profession:"",name:"",education:""},initAvatar:"../../assets/images/Default.jpg",skillList:[]}},methods:{triggerModify:function(t){var i=this.skillList.find((function(i){return i.skillName==t}));i.isModify=!i.isModify},professionFocus:function(){this.$refs.profession.focus()},nameFocus:function(){this.$refs.name.focus()},educationFocus:function(){this.$refs.education.focus()},showAddSkillList:function(){this.addSkillList=!this.addSkillList},cancelAddSkillList:function(){this.addSkillList=!1,this.tempSkill="",this.tempSlider=""},formatTooltip:function(t){var i="";return t<30?i="了解":t<60?i="熟练":t<80?i="掌握":t<=100&&(i="精通"),t+" "+i},getResumeData:function(){var t=this;p["a"].get("/resume").then((function(i){var s=i.data.data;t.initAvatar=s.avatar,t.form.profession=s.profession,t.form.name=s.name,t.form.education=s.education,t.skillList=s.skillList.map((function(t){return t.isModify=!1,t}))}))},addSkill:function(){var t=this.tempSkill,i=this.tempSlider;t&&i&&(this.skillList.push({skillName:t,skillProgress:i}),this.cancelAddSkillList())},saveResume:function(){var t=this,i={profession:this.form.profession,name:this.form.name,education:this.form.education,skillList:this.skillList};p["a"].post("/resume/edit",{resumeBase:i}).then((function(i){0===i.data.code&&t.$message({type:"success",message:"保存成功"})}))}},created:function(){this.getResumeData()}},k=m,_=(s("9bd3"),s("4acb"),Object(d["a"])(k,e,a,!1,null,"2374069b",null));i["default"]=_.exports},7514:function(t,i,s){"use strict";var e=s("5ca1"),a=s("0a49")(5),l="find",n=!0;l in[]&&Array(1)[l]((function(){n=!1})),e(e.P+e.F*n,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(l)},"7c2d":function(t,i,s){},"80fc":function(t,i,s){"use strict";var e=s("c83a"),a=s.n(e);a.a},"93f5":function(t,i,s){},"9bd3":function(t,i,s){"use strict";var e=s("93f5"),a=s.n(e);a.a},c83a:function(t,i,s){},cd1c:function(t,i,s){var e=s("e853");t.exports=function(t,i){return new(e(t))(i)}},e853:function(t,i,s){var e=s("d3f4"),a=s("1169"),l=s("2b4c")("species");t.exports=function(t){var i;return a(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)||(i=void 0),e(i)&&(i=i[l],null===i&&(i=void 0))),void 0===i?Array:i}}}]);